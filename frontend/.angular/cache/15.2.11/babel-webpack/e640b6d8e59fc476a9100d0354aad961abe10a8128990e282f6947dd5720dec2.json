{"ast":null,"code":"import { ApiService } from '../core/api.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./low-stock-chart/low-stock-chart.component\";\nimport * as i5 from \"./high-stock-chart/high-stock-chart.component\";\nfunction InventoryComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 20)(1, \"span\", 21);\n    i0.…µ…µtext(2, \"\\u26A0\\uFE0F\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"span\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(ctx_r0.duplicateWarning);\n  }\n}\nfunction InventoryComponent_li_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"li\")(1, \"div\", 22)(2, \"div\", 23)(3, \"strong\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"span\", 24);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"div\", 25)(8, \"span\", 26);\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"span\", 27);\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(12, \"button\", 28);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_li_20_Template_button_click_12_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r8);\n      const item_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r7.deleteItem(item_r6.id));\n    });\n    i0.…µ…µtext(13, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(item_r6.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(item_r6.description);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\\uD83D\\uDCB0 $\", item_r6.price, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\uD83D\\uDCE6 \", item_r6.quantity, \"\");\n  }\n}\nfunction InventoryComponent_button_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 29);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_button_25_Template_button_click_0_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r11);\n      const page_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(page_r9 > 0 && ctx_r10.goToPage(page_r9));\n    });\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const page_r9 = ctx.$implicit;\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µclassProp(\"active\", page_r9 === ctx_r2.currentPage)(\"dots\", page_r9 === -1);\n    i0.…µ…µproperty(\"disabled\", page_r9 === -1);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", page_r9 === -1 ? \"...\" : page_r9, \" \");\n  }\n}\nfunction InventoryComponent_div_28_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 40)(1, \"span\", 21);\n    i0.…µ…µtext(2, \"\\u26A0\\uFE0F\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"span\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate(ctx_r12.generalError);\n  }\n}\nfunction InventoryComponent_div_28_div_9_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 48)(1, \"div\", 49);\n    i0.…µ…µtext(2, \"\\uD83D\\uDCC4\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"div\", 50)(4, \"p\", 51);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"p\", 52);\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r17.fileName);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r17.formatFileSize(ctx_r17.fileSize));\n  }\n}\nfunction InventoryComponent_div_28_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 41)(1, \"input\", 42);\n    i0.…µ…µlistener(\"change\", function InventoryComponent_div_28_div_9_Template_input_change_1_listener($event) {\n      i0.…µ…µrestoreView(_r19);\n      const ctx_r18 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r18.onFileSelected($event));\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(2, \"label\", 43)(3, \"div\", 44);\n    i0.…µ…µtext(4, \"\\uD83D\\uDCC1\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"p\", 45)(6, \"strong\");\n    i0.…µ…µtext(7, \"Haz clic para seleccionar\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(8, \" o arrastra tu archivo Excel aqu\\u00ED \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"p\", 46);\n    i0.…µ…µtext(10, \"Formatos: .xls, .xlsx (m\\u00E1x. 10 MB)\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µtemplate(11, InventoryComponent_div_28_div_9_div_11_Template, 8, 2, \"div\", 47);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(11);\n    i0.…µ…µproperty(\"ngIf\", ctx_r13.fileName);\n  }\n}\nfunction InventoryComponent_div_28_div_10_div_6_div_11_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"p\", 65);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const error_r24 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\"\\u2022 \", error_r24, \"\");\n  }\n}\nfunction InventoryComponent_div_28_div_10_div_6_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 63);\n    i0.…µ…µtemplate(1, InventoryComponent_div_28_div_10_div_6_div_11_p_1_Template, 2, 1, \"p\", 64);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const sheet_r21 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", sheet_r21.errors);\n  }\n}\nfunction InventoryComponent_div_28_div_10_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 57);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_10_div_6_Template_div_click_0_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r27);\n      const sheet_r21 = restoredCtx.$implicit;\n      const ctx_r26 = i0.…µ…µnextContext(3);\n      return i0.…µ…µresetView(sheet_r21.is_valid && ctx_r26.selectSheet(sheet_r21.name));\n    });\n    i0.…µ…µelementStart(1, \"div\", 58)(2, \"span\", 59);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 60);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 61)(7, \"p\");\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"p\");\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µtemplate(11, InventoryComponent_div_28_div_10_div_6_div_11_Template, 2, 1, \"div\", 62);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const sheet_r21 = ctx.$implicit;\n    i0.…µ…µclassProp(\"sheet-valid\", sheet_r21.is_valid)(\"sheet-invalid\", !sheet_r21.is_valid);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(sheet_r21.name);\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"status-valid\", sheet_r21.is_valid)(\"status-invalid\", !sheet_r21.is_valid);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", sheet_r21.is_valid ? \"\\u2713\" : \"\\u2717\", \" \");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\", sheet_r21.rows, \" filas\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\", sheet_r21.columns.length, \" columnas\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !sheet_r21.is_valid);\n  }\n}\nfunction InventoryComponent_div_28_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 53)(1, \"h4\");\n    i0.…µ…µtext(2, \"Selecciona una hoja para cargar\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"p\", 54);\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"div\", 55);\n    i0.…µ…µtemplate(6, InventoryComponent_div_28_div_10_div_6_Template, 12, 13, \"div\", 56);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\"Se detectaron \", ctx_r14.sheets.length, \" hojas en el archivo\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r14.sheets);\n  }\n}\nfunction InventoryComponent_div_28_div_11_div_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 87);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r31 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \\u2728 \", ctx_r31.newProductsCount, \" Nuevos \");\n  }\n}\nfunction InventoryComponent_div_28_div_11_div_7_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 88);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.…µ…µnextContext(4);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \\u26A0\\uFE0F \", ctx_r32.duplicatesCount, \" Duplicados \");\n  }\n}\nfunction InventoryComponent_div_28_div_11_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 84);\n    i0.…µ…µtemplate(1, InventoryComponent_div_28_div_11_div_7_span_1_Template, 2, 1, \"span\", 85);\n    i0.…µ…µtemplate(2, InventoryComponent_div_28_div_11_div_7_span_2_Template, 2, 1, \"span\", 86);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r28.newProductsCount > 0);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r28.duplicatesCount > 0);\n  }\n}\nfunction InventoryComponent_div_28_div_11_th_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"th\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const col_r33 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(col_r33);\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 98);\n    i0.…µ…µtext(1, \" \\uD83D\\uDD17 \");\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const row_r34 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µproperty(\"title\", \"ID existente: \" + row_r34.existing_id);\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 99);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_tr_33_button_6_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r44);\n      const row_r34 = i0.…µ…µnextContext().$implicit;\n      const ctx_r42 = i0.…µ…µnextContext(3);\n      return i0.…µ…µresetView(ctx_r42.startEdit(row_r34));\n    });\n    i0.…µ…µtext(1, \"\\u270F\\uFE0F\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 100);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_tr_33_button_7_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r46);\n      const ctx_r45 = i0.…µ…µnextContext(4);\n      return i0.…µ…µresetView(ctx_r45.saveEdit());\n    });\n    i0.…µ…µtext(1, \"\\u2713\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 101);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_tr_33_button_8_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r48);\n      const ctx_r47 = i0.…µ…µnextContext(4);\n      return i0.…µ…µresetView(ctx_r47.cancelEdit());\n    });\n    i0.…µ…µtext(1, \"\\u2717\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"button\", 102);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_tr_33_button_9_Template_button_click_0_listener() {\n      i0.…µ…µrestoreView(_r51);\n      const row_r34 = i0.…µ…µnextContext().$implicit;\n      const ctx_r49 = i0.…µ…µnextContext(3);\n      return i0.…µ…µresetView(ctx_r49.deleteRow(row_r34));\n    });\n    i0.…µ…µtext(1, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_td_10_input_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"input\", 105);\n    i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_div_28_div_11_tr_33_td_10_input_1_Template_input_ngModelChange_0_listener($event) {\n      i0.…µ…µrestoreView(_r57);\n      const col_r52 = i0.…µ…µnextContext().$implicit;\n      const row_r34 = i0.…µ…µnextContext().$implicit;\n      return i0.…µ…µresetView(row_r34[col_r52] = $event);\n    });\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const col_r52 = i0.…µ…µnextContext().$implicit;\n    const row_r34 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µproperty(\"ngModel\", row_r34[col_r52]);\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_td_10_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const col_r52 = i0.…µ…µnextContext().$implicit;\n    const row_r34 = i0.…µ…µnextContext().$implicit;\n    let tmp_0_0;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate((tmp_0_0 = row_r34[col_r52]) !== null && tmp_0_0 !== undefined ? tmp_0_0 : \"-\");\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"td\");\n    i0.…µ…µtemplate(1, InventoryComponent_div_28_div_11_tr_33_td_10_input_1_Template, 1, 1, \"input\", 103);\n    i0.…µ…µtemplate(2, InventoryComponent_div_28_div_11_tr_33_td_10_span_2_Template, 2, 1, \"span\", 104);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const row_r34 = i0.…µ…µnextContext().$implicit;\n    const ctx_r40 = i0.…µ…µnextContext(3);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r40.editingRow === row_r34);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r40.editingRow !== row_r34);\n  }\n}\nfunction InventoryComponent_div_28_div_11_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"tr\", 89)(1, \"td\", 90)(2, \"span\", 91);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(4, InventoryComponent_div_28_div_11_tr_33_span_4_Template, 2, 1, \"span\", 92);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"td\", 93);\n    i0.…µ…µtemplate(6, InventoryComponent_div_28_div_11_tr_33_button_6_Template, 2, 0, \"button\", 94);\n    i0.…µ…µtemplate(7, InventoryComponent_div_28_div_11_tr_33_button_7_Template, 2, 0, \"button\", 95);\n    i0.…µ…µtemplate(8, InventoryComponent_div_28_div_11_tr_33_button_8_Template, 2, 0, \"button\", 96);\n    i0.…µ…µtemplate(9, InventoryComponent_div_28_div_11_tr_33_button_9_Template, 2, 0, \"button\", 97);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(10, InventoryComponent_div_28_div_11_tr_33_td_10_Template, 3, 2, \"td\", 13);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const row_r34 = ctx.$implicit;\n    const ctx_r30 = i0.…µ…µnextContext(3);\n    i0.…µ…µclassProp(\"editing\", ctx_r30.editingRow === row_r34);\n    i0.…µ…µproperty(\"ngClass\", ctx_r30.getRowClass(row_r34));\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngClass\", \"badge-\" + row_r34.status);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", row_r34.status_label || \"-\", \" \");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", row_r34.status === \"duplicate\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngIf\", ctx_r30.editingRow !== row_r34);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r30.editingRow === row_r34);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r30.editingRow === row_r34);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r30.editingRow !== row_r34);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r30.columns);\n  }\n}\nfunction InventoryComponent_div_28_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 66)(1, \"div\", 67)(2, \"div\", 68)(3, \"h4\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"p\", 69);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(7, InventoryComponent_div_28_div_11_div_7_Template, 3, 2, \"div\", 70);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"div\", 71)(9, \"button\", 72);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_Template_button_click_9_listener() {\n      i0.…µ…µrestoreView(_r65);\n      const ctx_r64 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r64.cancelPreview());\n    });\n    i0.…µ…µtext(10, \"\\u2B05\\uFE0F Volver\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"button\", 73);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_div_11_Template_button_click_11_listener() {\n      i0.…µ…µrestoreView(_r65);\n      const ctx_r66 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r66.confirmUpload());\n    });\n    i0.…µ…µtext(12, \"\\u2713 Confirmar Carga\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(13, \"div\", 74)(14, \"span\", 75);\n    i0.…µ…µelement(15, \"span\", 76);\n    i0.…µ…µtext(16, \" Producto nuevo \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(17, \"span\", 75);\n    i0.…µ…µelement(18, \"span\", 77);\n    i0.…µ…µtext(19, \" Producto duplicado \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(20, \"span\", 75);\n    i0.…µ…µelement(21, \"span\", 78);\n    i0.…µ…µtext(22, \" Error de validaci\\u00F3n \");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(23, \"div\", 79)(24, \"table\", 80)(25, \"thead\")(26, \"tr\")(27, \"th\", 81);\n    i0.…µ…µtext(28, \"Estado\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(29, \"th\", 82);\n    i0.…µ…µtext(30, \"Acciones\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(31, InventoryComponent_div_28_div_11_th_31_Template, 2, 1, \"th\", 13);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(32, \"tbody\");\n    i0.…µ…µtemplate(33, InventoryComponent_div_28_div_11_tr_33_Template, 11, 11, \"tr\", 83);\n    i0.…µ…µelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µtextInterpolate1(\"Vista Previa - \", ctx_r15.selectedSheet, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate2(\"Mostrando \", ctx_r15.previewData.length, \" de \", ctx_r15.totalRows, \" filas\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r15.hasDuplicates || ctx_r15.newProductsCount > 0);\n    i0.…µ…µadvance(24);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r15.columns);\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r15.previewData);\n  }\n}\nfunction InventoryComponent_div_28_div_12_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 119)(1, \"div\", 120);\n    i0.…µ…µtext(2, \"\\u2705\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"p\");\n    i0.…µ…µtext(4, \"\\u00A1Carga completada exitosamente!\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction InventoryComponent_div_28_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 106)(1, \"h4\");\n    i0.…µ…µtext(2, \"Cargando Productos...\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"div\", 107);\n    i0.…µ…µelement(4, \"div\", 108);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"p\", 109);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"p\", 110);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"div\", 111)(10, \"div\", 112)(11, \"span\", 113);\n    i0.…µ…µtext(12, \"Creados:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(13, \"span\", 114);\n    i0.…µ…µtext(14);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(15, \"div\", 115)(16, \"span\", 113);\n    i0.…µ…µtext(17, \"Actualizados:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(18, \"span\", 114);\n    i0.…µ…µtext(19);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(20, \"div\", 116)(21, \"span\", 113);\n    i0.…µ…µtext(22, \"Omitidos:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(23, \"span\", 114);\n    i0.…µ…µtext(24);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(25, \"div\", 117)(26, \"span\", 113);\n    i0.…µ…µtext(27, \"Errores:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(28, \"span\", 114);\n    i0.…µ…µtext(29);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µtemplate(30, InventoryComponent_div_28_div_12_div_30_Template, 5, 0, \"div\", 118);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µstyleProp(\"width\", ctx_r16.uploadProgress, \"%\")(\"background-color\", ctx_r16.getProgressColor());\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\", ctx_r16.uploadProgress, \"%\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r16.uploadMessage);\n    i0.…µ…µadvance(6);\n    i0.…µ…µtextInterpolate(ctx_r16.uploadStats.created);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r16.uploadStats.updated);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r16.uploadStats.skipped);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r16.uploadStats.errors);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r16.uploadProgress === 100);\n  }\n}\nfunction InventoryComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 30);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_Template_div_click_0_listener() {\n      i0.…µ…µrestoreView(_r69);\n      const ctx_r68 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r68.closeExcelModal());\n    });\n    i0.…µ…µelementStart(1, \"div\", 31);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.…µ…µelementStart(2, \"div\", 32)(3, \"h3\");\n    i0.…µ…µtext(4, \"\\uD83D\\uDCCA Carga Masiva desde Excel\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"button\", 33);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_28_Template_button_click_5_listener() {\n      i0.…µ…µrestoreView(_r69);\n      const ctx_r71 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r71.closeExcelModal());\n    });\n    i0.…µ…µtext(6, \"\\u2715\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"div\", 34);\n    i0.…µ…µtemplate(8, InventoryComponent_div_28_div_8_Template, 5, 1, \"div\", 35);\n    i0.…µ…µtemplate(9, InventoryComponent_div_28_div_9_Template, 12, 1, \"div\", 36);\n    i0.…µ…µtemplate(10, InventoryComponent_div_28_div_10_Template, 7, 2, \"div\", 37);\n    i0.…µ…µtemplate(11, InventoryComponent_div_28_div_11_Template, 34, 6, \"div\", 38);\n    i0.…µ…µtemplate(12, InventoryComponent_div_28_div_12_Template, 31, 11, \"div\", 39);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(8);\n    i0.…µ…µproperty(\"ngIf\", ctx_r3.generalError);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", !ctx_r3.showPreview && !ctx_r3.isUploading && !ctx_r3.showSheetSelector);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r3.showSheetSelector && !ctx_r3.showPreview && !ctx_r3.isUploading);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r3.showPreview && !ctx_r3.isUploading);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", ctx_r3.isUploading);\n  }\n}\nfunction InventoryComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r73 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 30);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_29_Template_div_click_0_listener() {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r72 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r72.closeDuplicatesModal());\n    });\n    i0.…µ…µelementStart(1, \"div\", 121);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_29_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.…µ…µelementStart(2, \"div\", 122)(3, \"h3\");\n    i0.…µ…µtext(4, \"\\u26A0\\uFE0F Productos Duplicados Detectados\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(5, \"div\", 123)(6, \"p\", 124);\n    i0.…µ…µtext(7, \" Se encontraron \");\n    i0.…µ…µelementStart(8, \"strong\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(10, \" productos que ya existen en la base de datos. \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"p\", 125);\n    i0.…µ…µtext(12, \" Tambi\\u00E9n hay \");\n    i0.…µ…µelementStart(13, \"strong\");\n    i0.…µ…µtext(14);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(15, \" productos nuevos que se agregar\\u00E1n. \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(16, \"div\", 126)(17, \"h4\");\n    i0.…µ…µtext(18, \"\\u00BFC\\u00F3mo deseas manejar los duplicados?\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(19, \"label\", 127)(20, \"input\", 128);\n    i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_div_29_Template_input_ngModelChange_20_listener($event) {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r75 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r75.selectedDuplicateAction = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(21, \"div\", 129)(22, \"span\", 130);\n    i0.…µ…µtext(23, \"\\u2298\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(24, \"div\", 131)(25, \"strong\");\n    i0.…µ…µtext(26, \"Omitir duplicados\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(27, \"p\");\n    i0.…µ…µtext(28, \"Los productos duplicados NO se cargar\\u00E1n. Solo se agregar\\u00E1n los nuevos.\");\n    i0.…µ…µelementEnd()()()();\n    i0.…µ…µelementStart(29, \"label\", 127)(30, \"input\", 132);\n    i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_div_29_Template_input_ngModelChange_30_listener($event) {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r76 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r76.selectedDuplicateAction = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(31, \"div\", 129)(32, \"span\", 130);\n    i0.…µ…µtext(33, \"\\u21BB\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(34, \"div\", 131)(35, \"strong\");\n    i0.…µ…µtext(36, \"Actualizar existentes\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(37, \"p\");\n    i0.…µ…µtext(38, \"Los productos duplicados se actualizar\\u00E1n con los nuevos datos del Excel.\");\n    i0.…µ…µelementEnd()()()();\n    i0.…µ…µelementStart(39, \"label\", 127)(40, \"input\", 133);\n    i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_div_29_Template_input_ngModelChange_40_listener($event) {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r77 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r77.selectedDuplicateAction = $event);\n    });\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(41, \"div\", 129)(42, \"span\", 130);\n    i0.…µ…µtext(43, \"\\u2795\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(44, \"div\", 131)(45, \"strong\");\n    i0.…µ…µtext(46, \"Crear como nuevos\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(47, \"p\");\n    i0.…µ…µtext(48, \"Los productos duplicados se crear\\u00E1n como registros nuevos (permite duplicados).\");\n    i0.…µ…µelementEnd()()()()()();\n    i0.…µ…µelementStart(49, \"div\", 134)(50, \"button\", 72);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_29_Template_button_click_50_listener() {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r78 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r78.closeDuplicatesModal());\n    });\n    i0.…µ…µtext(51, \"Cancelar\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(52, \"button\", 73);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_29_Template_button_click_52_listener() {\n      i0.…µ…µrestoreView(_r73);\n      const ctx_r79 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r79.proceedWithDuplicates());\n    });\n    i0.…µ…µtext(53, \"Continuar\");\n    i0.…µ…µelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(9);\n    i0.…µ…µtextInterpolate(ctx_r4.duplicatesCount);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r4.newProductsCount);\n    i0.…µ…µadvance(5);\n    i0.…µ…µclassProp(\"selected\", ctx_r4.selectedDuplicateAction === \"skip\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngModel\", ctx_r4.selectedDuplicateAction);\n    i0.…µ…µadvance(9);\n    i0.…µ…µclassProp(\"selected\", ctx_r4.selectedDuplicateAction === \"update\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngModel\", ctx_r4.selectedDuplicateAction);\n    i0.…µ…µadvance(9);\n    i0.…µ…µclassProp(\"selected\", ctx_r4.selectedDuplicateAction === \"create_new\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngModel\", ctx_r4.selectedDuplicateAction);\n  }\n}\nfunction InventoryComponent_div_30_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"li\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const error_r81 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(error_r81);\n  }\n}\nfunction InventoryComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 135);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_30_Template_div_click_0_listener() {\n      i0.…µ…µrestoreView(_r83);\n      const ctx_r82 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r82.closeErrorDialog());\n    });\n    i0.…µ…µelementStart(1, \"div\", 136);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_30_Template_div_click_1_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.…µ…µelementStart(2, \"div\", 137)(3, \"h3\");\n    i0.…µ…µtext(4, \"\\u26A0\\uFE0F Errores Encontrados\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"button\", 138);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_30_Template_button_click_5_listener() {\n      i0.…µ…µrestoreView(_r83);\n      const ctx_r85 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r85.closeErrorDialog());\n    });\n    i0.…µ…µtext(6, \"\\u2715\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"div\", 139)(8, \"p\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"ul\", 140);\n    i0.…µ…µtemplate(11, InventoryComponent_div_30_li_11_Template, 2, 1, \"li\", 13);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(12, \"div\", 141)(13, \"button\", 73);\n    i0.…µ…µlistener(\"click\", function InventoryComponent_div_30_Template_button_click_13_listener() {\n      i0.…µ…µrestoreView(_r83);\n      const ctx_r86 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r86.closeErrorDialog());\n    });\n    i0.…µ…µtext(14, \"Entendido\");\n    i0.…µ…µelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(9);\n    i0.…µ…µtextInterpolate1(\"Se encontraron \", ctx_r5.errors.length, \" errores durante la carga:\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r5.errors);\n  }\n}\nexport let InventoryComponent = /*#__PURE__*/(() => {\n  class InventoryComponent {\n    constructor(api) {\n      this.api = api;\n      this.items = [];\n      this.filteredItems = [];\n      this.paginatedItems = [];\n      this.newItem = {\n        name: '',\n        description: '',\n        price: 0,\n        quantity: 0\n      };\n      this.currentPage = 1;\n      this.itemsPerPage = 5;\n      this.searchTerm = '';\n      this.ws = null;\n      this.wsUrl = 'ws://localhost:8000/ws/upload';\n      this.showExcelModal = false;\n      this.selectedFile = null;\n      this.fileName = '';\n      this.fileSize = 0;\n      this.sheets = [];\n      this.selectedSheet = '';\n      this.showSheetSelector = false;\n      this.showPreview = false;\n      this.previewData = [];\n      this.originalPreviewData = [];\n      this.totalRows = 0;\n      this.columns = [];\n      // Nuevos campos para duplicados\n      this.hasDuplicates = false;\n      this.duplicatesCount = 0;\n      this.newProductsCount = 0;\n      this.showDuplicatesModal = false;\n      this.selectedDuplicateAction = 'skip'; // 'skip', 'update', 'create_new'\n      this.editingRow = null;\n      this.editingRowCopy = null;\n      this.isUploading = false;\n      this.uploadProgress = 0;\n      this.uploadMessage = '';\n      this.uploadStep = '';\n      this.uploadStats = {\n        created: 0,\n        updated: 0,\n        skipped: 0,\n        errors: 0\n      };\n      this.errors = [];\n      this.showErrorDialog = false;\n      this.generalError = '';\n      // Agregar esta propiedad en la clase\n      this.duplicateWarning = '';\n    }\n    ngOnInit() {\n      this.loadItems();\n      this.connectWebSocket();\n    }\n    ngOnDestroy() {\n      this.closeWebSocket();\n    }\n    loadItems() {\n      this.api.getItems().subscribe({\n        next: response => {\n          console.log('Respuesta del backend:', response);\n          this.items = response.data || [];\n          this.filteredItems = [...this.items];\n          this.updatePaginatedItems();\n        },\n        error: error => {\n          console.error('Error al cargar productos:', error);\n          this.items = [];\n          this.filteredItems = [];\n          this.paginatedItems = [];\n        }\n      });\n    }\n    addItem() {\n      if (!this.newItem.name || !this.newItem.description) return;\n      const nameToCheck = this.newItem.name.toLowerCase().trim();\n      const existingProduct = this.items.find(item => item.name.toLowerCase().trim() === nameToCheck);\n      if (existingProduct) {\n        this.duplicateWarning = `‚ö†Ô∏è Ya existe \"${existingProduct.name}\" con precio $${existingProduct.price}`;\n        setTimeout(() => {\n          this.duplicateWarning = '';\n        }, 5000);\n        return; // No permitir agregar duplicados\n      }\n\n      this.api.addItem(this.newItem).subscribe({\n        next: () => {\n          this.newItem = {\n            name: '',\n            description: '',\n            price: 0,\n            quantity: 0\n          };\n          this.loadItems();\n          this.currentPage = 1;\n        },\n        error: error => {\n          console.error('Error al agregar producto:', error);\n        }\n      });\n    }\n    deleteItem(id) {\n      if (!confirm('¬øEst√°s seguro de eliminar este producto?')) {\n        return;\n      }\n      this.api.deleteItem(id).subscribe({\n        next: () => {\n          this.loadItems();\n          this.currentPage = 1;\n        },\n        error: error => {\n          console.error('Error al eliminar producto:', error);\n          this.showError('Error al eliminar el producto');\n        }\n      });\n    }\n    applyFilter() {\n      const term = (this.searchTerm || '').toLowerCase().trim();\n      if (!term) {\n        this.filteredItems = [...this.items];\n      } else {\n        this.filteredItems = this.items.filter(item => (item.name || '').toLowerCase().includes(term) || (item.description || '').toLowerCase().includes(term));\n      }\n      this.currentPage = 1;\n      this.updatePaginatedItems();\n    }\n    updatePaginatedItems() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      this.paginatedItems = this.filteredItems.slice(start, end);\n    }\n    totalPages() {\n      return Math.ceil(this.filteredItems.length / this.itemsPerPage);\n    }\n    nextPage() {\n      if (this.currentPage < this.totalPages()) {\n        this.currentPage++;\n        this.updatePaginatedItems();\n      }\n    }\n    prevPage() {\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        this.updatePaginatedItems();\n      }\n    }\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages()) {\n        this.currentPage = page;\n        this.updatePaginatedItems();\n      }\n    }\n    getPageNumbers() {\n      const total = this.totalPages();\n      const current = this.currentPage;\n      const pages = [];\n      if (total <= 7) {\n        for (let i = 1; i <= total; i++) {\n          pages.push(i);\n        }\n      } else {\n        pages.push(1);\n        if (current > 3) {\n          pages.push(-1);\n        }\n        const start = Math.max(2, current - 1);\n        const end = Math.min(total - 1, current + 1);\n        for (let i = start; i <= end; i++) {\n          pages.push(i);\n        }\n        if (current < total - 2) {\n          pages.push(-1);\n        }\n        pages.push(total);\n      }\n      return pages;\n    }\n    openExcelUploader() {\n      this.showExcelModal = true;\n      this.resetUploadState();\n    }\n    closeExcelModal() {\n      this.showExcelModal = false;\n      this.resetUploadState();\n    }\n    connectWebSocket() {\n      try {\n        this.ws = new WebSocket(this.wsUrl);\n        this.ws.onopen = () => {\n          console.log('‚úì WebSocket conectado');\n        };\n        this.ws.onmessage = event => {\n          const data = JSON.parse(event.data);\n          this.handleWebSocketMessage(data);\n        };\n        this.ws.onerror = error => {\n          console.error('Error en WebSocket:', error);\n        };\n        this.ws.onclose = () => {\n          console.log('‚úó WebSocket desconectado');\n          setTimeout(() => {\n            if (!this.isUploading) {\n              this.connectWebSocket();\n            }\n          }, 3000);\n        };\n      } catch (error) {\n        console.error('Error conectando WebSocket:', error);\n      }\n    }\n    closeWebSocket() {\n      if (this.ws) {\n        this.ws.close();\n        this.ws = null;\n      }\n    }\n    handleWebSocketMessage(data) {\n      this.uploadProgress = Number(data.progress) || 0;\n      this.uploadMessage = data.message || '';\n      this.uploadStep = data.step || '';\n      if (data.data) {\n        this.uploadStats = {\n          created: data.data.created || 0,\n          updated: data.data.updated || 0,\n          skipped: data.data.skipped || 0,\n          errors: data.data.errors_count || data.data.errors || 0\n        };\n        if (data.data.errors && Array.isArray(data.data.errors)) {\n          this.errors = data.data.errors;\n        }\n      }\n      if (data.type === 'complete') {\n        this.isUploading = false;\n        this.showPreview = false;\n        if (this.errors.length > 0) {\n          this.showErrorDialog = true;\n        }\n        this.loadItems();\n        setTimeout(() => {\n          if (this.errors.length === 0) {\n            this.closeExcelModal();\n          }\n        }, 3000);\n      }\n      if (data.type === 'error') {\n        this.isUploading = false;\n        this.showError(data.message);\n      }\n    }\n    onFileSelected(event) {\n      const file = event.target.files[0];\n      if (!file) return;\n      const validExtensions = ['.xls', '.xlsx'];\n      const fileExtension = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();\n      if (!validExtensions.includes(fileExtension)) {\n        this.showError('Por favor selecciona un archivo Excel v√°lido (.xls o .xlsx)');\n        event.target.value = '';\n        return;\n      }\n      const maxSize = 10 * 1024 * 1024;\n      if (file.size > maxSize) {\n        this.showError(`El archivo es demasiado grande (${(file.size / 1024 / 1024).toFixed(2)} MB). El l√≠mite es 10 MB.`);\n        event.target.value = '';\n        return;\n      }\n      this.selectedFile = file;\n      this.fileName = file.name;\n      this.fileSize = file.size;\n      this.errors = [];\n      this.generalError = '';\n      this.analyzeFile();\n    }\n    analyzeFile() {\n      if (!this.selectedFile) return;\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n      this.api.analyzeExcel(formData).subscribe({\n        next: response => {\n          if (response.success) {\n            this.sheets = response.data.sheets;\n            if (response.data.total_sheets > 1) {\n              this.showSheetSelector = true;\n              if (response.data.selected_sheet) {\n                this.selectedSheet = response.data.selected_sheet;\n                this.loadPreviewWithDuplicates();\n              }\n            } else if (response.data.total_sheets === 1) {\n              const sheet = this.sheets[0];\n              if (sheet.is_valid) {\n                this.selectedSheet = sheet.name;\n                this.loadPreviewWithDuplicates();\n              } else {\n                this.showError(`La hoja \"${sheet.name}\" tiene errores: ${sheet.errors.join(', ')}`);\n              }\n            }\n          }\n        },\n        error: error => {\n          this.handleError(error);\n        }\n      });\n    }\n    selectSheet(sheetName) {\n      const sheet = this.sheets.find(s => s.name === sheetName);\n      if (sheet && !sheet.is_valid) {\n        this.showError(`La hoja \"${sheetName}\" tiene errores: ${sheet.errors.join(', ')}`);\n        return;\n      }\n      this.selectedSheet = sheetName;\n      this.loadPreviewWithDuplicates();\n    }\n    // NUEVO: Cargar preview con validaci√≥n de duplicados\n    loadPreviewWithDuplicates() {\n      if (!this.selectedFile || !this.selectedSheet) return;\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n      this.api.validateDuplicates(formData, this.selectedSheet).subscribe({\n        next: response => {\n          if (response.success) {\n            this.previewData = response.data.preview_rows;\n            this.originalPreviewData = JSON.parse(JSON.stringify(response.data.preview_rows));\n            this.totalRows = response.data.total_rows;\n            this.columns = response.data.columns.filter(col => col !== 'temp_id' && col !== 'status' && col !== 'status_label' && col !== 'existing_id' && col !== 'existing_data' && col !== 'errors');\n            // Informaci√≥n de duplicados\n            this.hasDuplicates = response.data.has_duplicates;\n            this.duplicatesCount = response.data.duplicates_found;\n            this.newProductsCount = response.data.new_products;\n            console.log('‚úÖ Duplicados encontrados:', this.duplicatesCount);\n            console.log('‚úÖ Nuevos productos:', this.newProductsCount);\n            console.log('‚úÖ Has duplicates:', this.hasDuplicates);\n            this.showPreview = true;\n            this.showSheetSelector = false;\n            // Si hay duplicados, mostrar modal de opciones\n            if (this.hasDuplicates) {\n              console.log('üö® Mostrando modal de duplicados');\n              this.showDuplicatesModal = true;\n            } else {\n              console.log('‚ÑπÔ∏è No hay duplicados, no se muestra modal');\n            }\n          }\n        },\n        error: error => {\n          this.handleError(error);\n        }\n      });\n    }\n    // NUEVO: M√©todos para manejar duplicados\n    selectDuplicateAction(action) {\n      this.selectedDuplicateAction = action;\n    }\n    closeDuplicatesModal() {\n      this.showDuplicatesModal = false;\n    }\n    proceedWithDuplicates() {\n      this.showDuplicatesModal = false;\n      // El usuario puede continuar editando el preview\n    }\n\n    startEdit(row) {\n      this.editingRow = row;\n      this.editingRowCopy = {\n        ...row\n      };\n    }\n    cancelEdit() {\n      if (this.editingRow && this.editingRowCopy) {\n        Object.assign(this.editingRow, this.editingRowCopy);\n      }\n      this.editingRow = null;\n      this.editingRowCopy = null;\n    }\n    saveEdit() {\n      this.editingRow = null;\n      this.editingRowCopy = null;\n    }\n    deleteRow(row) {\n      const index = this.previewData.findIndex(r => r.temp_id === row.temp_id);\n      if (index > -1) {\n        this.previewData.splice(index, 1);\n        this.totalRows--;\n        // Recalcular duplicados\n        if (row.status === 'duplicate') {\n          this.duplicatesCount--;\n          if (this.duplicatesCount === 0) {\n            this.hasDuplicates = false;\n          }\n        } else if (row.status === 'new') {\n          this.newProductsCount--;\n        }\n      }\n    }\n    // M√©todo para obtener la clase CSS seg√∫n el estado\n    getRowClass(row) {\n      if (row.status === 'duplicate') return 'row-duplicate';\n      if (row.status === 'error') return 'row-error';\n      if (row.status === 'new') return 'row-new';\n      return '';\n    }\n    confirmUpload() {\n      if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {\n        this.showError('No hay conexi√≥n con el servidor. Reintentando...');\n        this.connectWebSocket();\n        setTimeout(() => this.confirmUpload(), 1000);\n        return;\n      }\n      this.isUploading = true;\n      this.uploadProgress = 0;\n      this.uploadMessage = 'Iniciando carga...';\n      this.errors = [];\n      this.uploadStats = {\n        created: 0,\n        updated: 0,\n        skipped: 0,\n        errors: 0\n      };\n      // Enviar con la acci√≥n de duplicados seleccionada\n      this.ws.send(JSON.stringify({\n        action: 'start_upload',\n        rows: this.previewData,\n        duplicate_action: this.selectedDuplicateAction\n      }));\n    }\n    cancelPreview() {\n      this.showPreview = false;\n      this.previewData = [];\n      this.selectedSheet = '';\n      this.hasDuplicates = false;\n      this.duplicatesCount = 0;\n      this.newProductsCount = 0;\n      if (this.sheets.length > 1) {\n        this.showSheetSelector = true;\n      } else {\n        this.resetUploadState();\n      }\n    }\n    resetUploadState() {\n      this.selectedFile = null;\n      this.fileName = '';\n      this.fileSize = 0;\n      this.sheets = [];\n      this.selectedSheet = '';\n      this.showSheetSelector = false;\n      this.showPreview = false;\n      this.previewData = [];\n      this.originalPreviewData = [];\n      this.totalRows = 0;\n      this.columns = [];\n      this.uploadProgress = 0;\n      this.uploadMessage = '';\n      this.uploadStats = {\n        created: 0,\n        updated: 0,\n        skipped: 0,\n        errors: 0\n      };\n      this.errors = [];\n      this.generalError = '';\n      this.isUploading = false;\n      this.hasDuplicates = false;\n      this.duplicatesCount = 0;\n      this.newProductsCount = 0;\n      this.showDuplicatesModal = false;\n      this.selectedDuplicateAction = 'skip';\n    }\n    showError(message) {\n      this.generalError = message;\n      setTimeout(() => {\n        this.generalError = '';\n      }, 5000);\n    }\n    handleError(error) {\n      if (error.error && error.error.detail) {\n        this.showError(error.error.detail);\n      } else {\n        this.showError('Ocurri√≥ un error al procesar el archivo');\n      }\n    }\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n    }\n    getProgressColor() {\n      if (this.uploadProgress < 33) return '#3498db';\n      if (this.uploadProgress < 66) return '#f39c12';\n      if (this.uploadProgress < 100) return '#e74c3c';\n      return '#27ae60';\n    }\n    closeErrorDialog() {\n      this.showErrorDialog = false;\n    }\n  }\n  InventoryComponent.…µfac = function InventoryComponent_Factory(t) {\n    return new (t || InventoryComponent)(i0.…µ…µdirectiveInject(i1.ApiService));\n  };\n  InventoryComponent.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n    type: InventoryComponent,\n    selectors: [[\"app-inventory\"]],\n    decls: 31,\n    vars: 13,\n    consts: [[1, \"container\"], [1, \"form\", 3, \"ngSubmit\"], [\"name\", \"name\", \"placeholder\", \"Nombre del producto\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"description\", \"placeholder\", \"Descripci\\u00F3n\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"price\", \"type\", \"number\", \"placeholder\", \"Precio\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"quantity\", \"type\", \"number\", \"placeholder\", \"Cantidad\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn-add\"], [\"type\", \"button\", 1, \"btn-excel\", 3, \"click\"], [1, \"search-bar\"], [\"name\", \"search\", \"placeholder\", \"\\uD83D\\uDD0D Buscar producto...\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 3, \"click\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [1, \"item-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pagination\"], [1, \"pagination-btn\", 3, \"disabled\", \"click\"], [1, \"page-numbers\"], [\"class\", \"page-number\", 3, \"active\", \"dots\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"modal-overlay\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"error-modal-overlay\", 3, \"click\", 4, \"ngIf\"], [1, \"alert\", \"alert-warning\"], [1, \"alert-icon\"], [1, \"item-content\"], [1, \"item-info\"], [1, \"item-description\"], [1, \"item-details\"], [1, \"item-price\"], [1, \"item-quantity\"], [1, \"btn-delete\", 3, \"click\"], [1, \"page-number\", 3, \"disabled\", \"click\"], [1, \"modal-overlay\", 3, \"click\"], [1, \"modal-excel\", 3, \"click\"], [1, \"modal-excel-header\"], [1, \"btn-close-modal\", 3, \"click\"], [1, \"modal-excel-body\"], [\"class\", \"alert alert-error\", 4, \"ngIf\"], [\"class\", \"upload-zone\", 4, \"ngIf\"], [\"class\", \"sheet-selector\", 4, \"ngIf\"], [\"class\", \"preview-container\", 4, \"ngIf\"], [\"class\", \"upload-progress\", 4, \"ngIf\"], [1, \"alert\", \"alert-error\"], [1, \"upload-zone\"], [\"type\", \"file\", \"id\", \"fileInputModal\", \"accept\", \".xls,.xlsx\", 2, \"display\", \"none\", 3, \"change\"], [\"for\", \"fileInputModal\", 1, \"upload-area\"], [1, \"upload-icon\"], [1, \"upload-text\"], [1, \"upload-hint\"], [\"class\", \"file-info\", 4, \"ngIf\"], [1, \"file-info\"], [1, \"file-icon\"], [1, \"file-details\"], [1, \"file-name\"], [1, \"file-size\"], [1, \"sheet-selector\"], [1, \"sheet-hint\"], [1, \"sheets-grid\"], [\"class\", \"sheet-card\", 3, \"sheet-valid\", \"sheet-invalid\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"sheet-card\", 3, \"click\"], [1, \"sheet-header\"], [1, \"sheet-name\"], [1, \"sheet-status\"], [1, \"sheet-info\"], [\"class\", \"sheet-errors\", 4, \"ngIf\"], [1, \"sheet-errors\"], [\"class\", \"error-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"error-item\"], [1, \"preview-container\"], [1, \"preview-header\"], [1, \"preview-title-section\"], [1, \"preview-info\"], [\"class\", \"preview-stats\", 4, \"ngIf\"], [1, \"preview-actions\"], [1, \"btn-secondary-modal\", 3, \"click\"], [1, \"btn-primary-modal\", 3, \"click\"], [1, \"preview-legend\"], [1, \"legend-item\"], [1, \"legend-color\", \"legend-new\"], [1, \"legend-color\", \"legend-duplicate\"], [1, \"legend-color\", \"legend-error\"], [1, \"table-container\"], [1, \"preview-table\"], [1, \"status-col\"], [1, \"actions-col\"], [3, \"editing\", \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"preview-stats\"], [\"class\", \"stat-badge stat-new\", 4, \"ngIf\"], [\"class\", \"stat-badge stat-duplicate\", 4, \"ngIf\"], [1, \"stat-badge\", \"stat-new\"], [1, \"stat-badge\", \"stat-duplicate\"], [3, \"ngClass\"], [1, \"status-cell\"], [1, \"status-badge\", 3, \"ngClass\"], [\"class\", \"duplicate-info\", 3, \"title\", 4, \"ngIf\"], [1, \"actions-cell\"], [\"class\", \"btn-icon btn-edit\", \"title\", \"Editar\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-icon btn-save\", \"title\", \"Guardar\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-icon btn-cancel\", \"title\", \"Cancelar\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-icon btn-delete\", \"title\", \"Eliminar\", 3, \"click\", 4, \"ngIf\"], [1, \"duplicate-info\", 3, \"title\"], [\"title\", \"Editar\", 1, \"btn-icon\", \"btn-edit\", 3, \"click\"], [\"title\", \"Guardar\", 1, \"btn-icon\", \"btn-save\", 3, \"click\"], [\"title\", \"Cancelar\", 1, \"btn-icon\", \"btn-cancel\", 3, \"click\"], [\"title\", \"Eliminar\", 1, \"btn-icon\", \"btn-delete\", 3, \"click\"], [\"type\", \"text\", \"class\", \"edit-input\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"text\", 1, \"edit-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"upload-progress\"], [1, \"progress-bar-container\"], [1, \"progress-bar\"], [1, \"progress-percentage\"], [1, \"progress-message\"], [1, \"upload-stats\"], [1, \"stat-item\", \"stat-created\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"stat-item\", \"stat-updated\"], [1, \"stat-item\", \"stat-skipped\"], [1, \"stat-item\", \"stat-errors\"], [\"class\", \"success-message\", 4, \"ngIf\"], [1, \"success-message\"], [1, \"success-icon\"], [1, \"modal-duplicates\", 3, \"click\"], [1, \"modal-duplicates-header\"], [1, \"modal-duplicates-body\"], [1, \"duplicates-message\"], [1, \"duplicates-hint\"], [1, \"duplicates-options\"], [1, \"option-card\"], [\"type\", \"radio\", \"name\", \"duplicateAction\", \"value\", \"skip\", 3, \"ngModel\", \"ngModelChange\"], [1, \"option-content\"], [1, \"option-icon\"], [1, \"option-text\"], [\"type\", \"radio\", \"name\", \"duplicateAction\", \"value\", \"update\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"name\", \"duplicateAction\", \"value\", \"create_new\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-duplicates-footer\"], [1, \"error-modal-overlay\", 3, \"click\"], [1, \"error-modal-content\", 3, \"click\"], [1, \"error-modal-header\"], [1, \"btn-close\", 3, \"click\"], [1, \"error-modal-body\"], [1, \"error-list\"], [1, \"error-modal-footer\"]],\n    template: function InventoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.…µ…µelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.…µ…µtext(2, \"\\uD83D\\uDCE6 Inventario de Productos\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelement(3, \"app-low-stock-chart\")(4, \"app-high-stock-chart\");\n        i0.…µ…µelementStart(5, \"form\", 1);\n        i0.…µ…µlistener(\"ngSubmit\", function InventoryComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.addItem();\n        });\n        i0.…µ…µelementStart(6, \"input\", 2);\n        i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.newItem.name = $event;\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(7, \"input\", 3);\n        i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.newItem.description = $event;\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(8, \"input\", 4);\n        i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.newItem.price = $event;\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(9, \"input\", 5);\n        i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.newItem.quantity = $event;\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(10, \"button\", 6);\n        i0.…µ…µtext(11, \"\\u2795 Agregar\");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(12, \"button\", 7);\n        i0.…µ…µlistener(\"click\", function InventoryComponent_Template_button_click_12_listener() {\n          return ctx.openExcelUploader();\n        });\n        i0.…µ…µtext(13, \" \\uD83D\\uDCCA Carga Masiva Excel \");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µelementStart(14, \"div\", 8)(15, \"input\", 9);\n        i0.…µ…µlistener(\"ngModelChange\", function InventoryComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.searchTerm = $event;\n        });\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(16, \"button\", 10);\n        i0.…µ…µlistener(\"click\", function InventoryComponent_Template_button_click_16_listener() {\n          return ctx.applyFilter();\n        });\n        i0.…µ…µtext(17, \"Buscar\");\n        i0.…µ…µelementEnd()();\n        i0.…µ…µtemplate(18, InventoryComponent_div_18_Template, 5, 1, \"div\", 11);\n        i0.…µ…µelementStart(19, \"ul\", 12);\n        i0.…µ…µtemplate(20, InventoryComponent_li_20_Template, 14, 4, \"li\", 13);\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(21, \"div\", 14)(22, \"button\", 15);\n        i0.…µ…µlistener(\"click\", function InventoryComponent_Template_button_click_22_listener() {\n          return ctx.prevPage();\n        });\n        i0.…µ…µtext(23, \" \\u2B05\\uFE0F Anterior \");\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(24, \"div\", 16);\n        i0.…µ…µtemplate(25, InventoryComponent_button_25_Template, 2, 6, \"button\", 17);\n        i0.…µ…µelementEnd();\n        i0.…µ…µelementStart(26, \"button\", 15);\n        i0.…µ…µlistener(\"click\", function InventoryComponent_Template_button_click_26_listener() {\n          return ctx.nextPage();\n        });\n        i0.…µ…µtext(27, \" Siguiente \\u27A1\\uFE0F \");\n        i0.…µ…µelementEnd()()();\n        i0.…µ…µtemplate(28, InventoryComponent_div_28_Template, 13, 5, \"div\", 18);\n        i0.…µ…µtemplate(29, InventoryComponent_div_29_Template, 54, 11, \"div\", 18);\n        i0.…µ…µtemplate(30, InventoryComponent_div_30_Template, 15, 2, \"div\", 19);\n      }\n      if (rf & 2) {\n        i0.…µ…µadvance(6);\n        i0.…µ…µproperty(\"ngModel\", ctx.newItem.name);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngModel\", ctx.newItem.description);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngModel\", ctx.newItem.price);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngModel\", ctx.newItem.quantity);\n        i0.…µ…µadvance(6);\n        i0.…µ…µproperty(\"ngModel\", ctx.searchTerm);\n        i0.…µ…µadvance(3);\n        i0.…µ…µproperty(\"ngIf\", ctx.duplicateWarning);\n        i0.…µ…µadvance(2);\n        i0.…µ…µproperty(\"ngForOf\", ctx.paginatedItems);\n        i0.…µ…µadvance(2);\n        i0.…µ…µproperty(\"disabled\", ctx.currentPage === 1);\n        i0.…µ…µadvance(3);\n        i0.…µ…µproperty(\"ngForOf\", ctx.getPageNumbers());\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"disabled\", ctx.currentPage === ctx.totalPages());\n        i0.…µ…µadvance(2);\n        i0.…µ…µproperty(\"ngIf\", ctx.showExcelModal);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", ctx.showDuplicatesModal);\n        i0.…µ…µadvance(1);\n        i0.…µ…µproperty(\"ngIf\", ctx.showErrorDialog);\n      }\n    },\n    dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.…µNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.RadioControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.LowStockChartComponent, i5.HighStockChartComponent],\n    styles: [\"@charset \\\"UTF-8\\\";.container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:1.5rem;background-color:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:2rem;font-size:1.8rem}.form[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1.5rem;flex-wrap:wrap}input[_ngcontent-%COMP%]{flex:1 1 45%;padding:.75rem;border:1px solid #ccc;border-radius:6px;font-size:.95rem;transition:border-color .2s ease}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}button[_ngcontent-%COMP%]{padding:.75rem 1.2rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#2980b9;transform:translateY(-2px);box-shadow:0 4px 12px #3498db4d}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed;transform:none;box-shadow:none}.btn-add[_ngcontent-%COMP%]{background-color:#27ae60;flex:1 1 45%}.btn-add[_ngcontent-%COMP%]:hover{background-color:#229954}.btn-excel[_ngcontent-%COMP%]{background-color:#e67e22;flex:1 1 45%}.btn-excel[_ngcontent-%COMP%]:hover{background-color:#d35400}.search-bar[_ngcontent-%COMP%]{margin:1.5rem 0;display:flex;gap:.75rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:1px solid #ccc;border-radius:6px;outline:none;transition:border-color .2s ease}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3498db}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:#3498db;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s ease}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.item-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin-bottom:1.5rem}.item-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:1rem;margin-bottom:.75rem;border:1px solid #e0e0e0;border-radius:8px;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease;background:#f8f9fa}.item-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#fff;box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.item-content[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center;gap:1rem}.item-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.item-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.05rem}.item-description[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem}.item-details[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.item-price[_ngcontent-%COMP%]{background:#d5f4e6;color:#27ae60;padding:.25rem .75rem;border-radius:4px;font-weight:600;font-size:.9rem}.item-quantity[_ngcontent-%COMP%]{background:#dfe6e9;color:#2c3e50;padding:.25rem .75rem;border-radius:4px;font-weight:600;font-size:.9rem}.btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;padding:.5rem .75rem;font-size:1rem;border-radius:6px}.btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;margin-top:2rem;padding-top:1.5rem;border-top:2px solid #e0e0e0}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#3498db}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-excel[_ngcontent-%COMP%]{background:white;border-radius:16px;max-width:95vw;width:1200px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal-excel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:2px solid #e0e0e0;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border-radius:16px 16px 0 0}.modal-excel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.btn-close-modal[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);border:none;color:#fff;font-size:1.5rem;width:2.5rem;height:2.5rem;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;padding:0}.btn-close-modal[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.3);transform:rotate(90deg)}.modal-excel-body[_ngcontent-%COMP%]{padding:2rem;overflow-y:auto;flex:1}.alert[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-radius:8px;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;animation:_ngcontent-%COMP%_slideDown .3s ease}.alert-error[_ngcontent-%COMP%]{background:#fee;border:1px solid #fcc;color:#c33}.alert-icon[_ngcontent-%COMP%]{font-size:1.5rem}.upload-zone[_ngcontent-%COMP%]{margin-bottom:2rem}.upload-area[_ngcontent-%COMP%]{display:block;padding:3rem;border:3px dashed #667eea;border-radius:12px;text-align:center;cursor:pointer;transition:all .3s ease;background:linear-gradient(135deg,#f5f7fa 0%,#e3f2fd 100%)}.upload-area[_ngcontent-%COMP%]:hover{border-color:#764ba2;background:linear-gradient(135deg,#e3f2fd 0%,#f5f7fa 100%);transform:translateY(-4px);box-shadow:0 8px 20px #667eea33}.upload-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.upload-text[_ngcontent-%COMP%]{font-size:1.1rem;color:#2c3e50;margin-bottom:.5rem}.upload-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#667eea}.upload-hint[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d}.file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:1.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:2px solid #667eea}.file-icon[_ngcontent-%COMP%]{font-size:2.5rem}.file-details[_ngcontent-%COMP%]{flex:1}.file-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:.25rem;font-size:1rem}.file-size[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d}.sheet-selector[_ngcontent-%COMP%]{padding:2rem;background:#f8f9fa;border-radius:12px;margin-bottom:2rem}.sheet-selector[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.sheet-hint[_ngcontent-%COMP%]{color:#7f8c8d;margin-bottom:1.5rem}.sheets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.sheet-card[_ngcontent-%COMP%]{padding:1.5rem;border-radius:8px;border:2px solid #dee2e6;cursor:pointer;transition:all .3s ease}.sheet-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.sheet-valid[_ngcontent-%COMP%]{background:#d4edda;border-color:#28a745}.sheet-valid[_ngcontent-%COMP%]:hover{background:#c3e6cb}.sheet-invalid[_ngcontent-%COMP%]{background:#f8d7da;border-color:#dc3545;cursor:not-allowed}.sheet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.sheet-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem;color:#2c3e50}.sheet-status[_ngcontent-%COMP%]{font-size:1.5rem}.status-valid[_ngcontent-%COMP%]{color:#28a745}.status-invalid[_ngcontent-%COMP%]{color:#dc3545}.sheet-info[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;margin-bottom:.5rem}.sheet-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.sheet-errors[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #f5c6cb}.error-item[_ngcontent-%COMP%]{font-size:.85rem;color:#721c24;margin:.25rem 0}.preview-container[_ngcontent-%COMP%]{margin-bottom:2rem}.preview-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #dee2e6;flex-wrap:wrap;gap:1rem}.preview-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin:0}.preview-info[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:.25rem 0 0}.preview-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.btn-primary-modal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:.75rem 1.5rem;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-primary-modal[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.btn-secondary-modal[_ngcontent-%COMP%]{background:#6c757d;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-secondary-modal[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-2px)}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid #dee2e6;max-height:400px;overflow-y:auto}.preview-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.preview-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);position:sticky;top:0;z-index:10}.preview-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-weight:600;color:#fff;border-bottom:2px solid #dee2e6;white-space:nowrap}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s ease}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.preview-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.editing[_ngcontent-%COMP%]{background:#fff3cd}.preview-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;border-bottom:1px solid #dee2e6}.actions-col[_ngcontent-%COMP%]{width:120px}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.5rem;white-space:nowrap}.btn-icon[_ngcontent-%COMP%]{padding:.25rem .5rem;border:none;background:transparent;cursor:pointer;font-size:1.2rem;transition:transform .2s ease}.btn-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.btn-save[_ngcontent-%COMP%]{color:#28a745}.btn-cancel[_ngcontent-%COMP%]{color:#dc3545}.edit-input[_ngcontent-%COMP%]{width:100%;padding:.25rem .5rem;border:2px solid #667eea;border-radius:4px;font-size:.9rem}.edit-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#764ba2;box-shadow:0 0 0 3px #667eea1a}.upload-progress[_ngcontent-%COMP%]{text-align:center;padding:3rem;background:linear-gradient(135deg,#f5f7fa 0%,#e3f2fd 100%);border-radius:12px}.upload-progress[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:2rem;font-size:1.3rem}.progress-bar-container[_ngcontent-%COMP%]{width:100%;height:35px;background:#e9ecef;border-radius:17px;overflow:hidden;margin-bottom:1rem;box-shadow:inset 0 2px 4px #0000001a}.progress-bar[_ngcontent-%COMP%]{height:100%;transition:width .4s ease,background-color .4s ease;border-radius:17px}.progress-percentage[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2c3e50;margin:1rem 0 .5rem}.progress-message[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem;margin-bottom:2rem}.upload-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-top:2rem;flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{padding:1.25rem 1.75rem;border-radius:8px;min-width:140px;text-align:center}.stat-created[_ngcontent-%COMP%]{background:#d4edda;border:2px solid #28a745}.stat-updated[_ngcontent-%COMP%]{background:#d1ecf1;border:2px solid #17a2b8}.stat-errors[_ngcontent-%COMP%]{background:#f8d7da;border:2px solid #dc3545}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#6c757d;margin-bottom:.5rem;font-weight:500}.stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#2c3e50}.success-message[_ngcontent-%COMP%]{margin-top:2rem;padding:2rem;background:linear-gradient(135deg,#d4edda 0%,#c3e6cb 100%);border:2px solid #28a745;border-radius:12px;animation:_ngcontent-%COMP%_bounce .6s ease}.success-icon[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:.75rem}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#155724;margin:0}.error-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1100;animation:_ngcontent-%COMP%_fadeIn .3s ease}.error-modal-content[_ngcontent-%COMP%]{background:white;border-radius:12px;max-width:600px;width:90%;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 10px 40px #0000004d;animation:_ngcontent-%COMP%_slideUp .3s ease}.error-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid #dee2e6;background:linear-gradient(135deg,#e74c3c 0%,#c0392b 100%);color:#fff;border-radius:12px 12px 0 0}.error-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fff}.error-modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:rgba(255,255,255,.2);color:#fff;border:none;font-size:1.5rem;cursor:pointer;width:2rem;height:2rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;padding:0}.error-modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.3)}.error-modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;flex:1}.error-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0 0}.error-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.75rem;margin-bottom:.5rem;background:#f8d7da;border-left:3px solid #dc3545;border-radius:4px;color:#721c24;font-size:.9rem}.error-modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid #dee2e6;display:flex;justify-content:flex-end}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem;margin:1rem}.form[_ngcontent-%COMP%]{flex-direction:column}input[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%], .btn-excel[_ngcontent-%COMP%]{flex:1 1 100%}.item-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.item-details[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.modal-excel[_ngcontent-%COMP%]{width:95vw;max-height:95vh}.modal-excel-body[_ngcontent-%COMP%]{padding:1rem}.sheets-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.upload-stats[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.preview-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.preview-actions[_ngcontent-%COMP%]{width:100%}.preview-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}}\"]\n  });\n  return InventoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}